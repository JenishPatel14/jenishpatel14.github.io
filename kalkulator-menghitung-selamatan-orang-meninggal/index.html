<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Menghitung Selamatan Orang Meninggal: Akurat & Praktis</title>
    
    <meta name="description" content="Kalkulator menghitung selamatan orang meninggal online paling akurat. Hitung otomatis 3, 7, 40, 100, Pendhak, hingga 1000 hari (Nyewu). Praktis tanpa rumus manual.">
    <meta name="keywords" content="kalkulator menghitung selamatan orang meninggal, hitung 1000 hari orang meninggal online, aplikasi hitung weton kematian, tabel hitungan orang meninggal, rumus selamatan jawa, pendhak pisan, nyewu">
    <meta name="author" content="Jenish Patel">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#0f766e">
    
    <link rel="canonical" href="https://jenishpatel14.github.io/kalkulator-menghitung-selamatan-orang-meninggal/" />
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jenishpatel14.github.io/kalkulator-menghitung-selamatan-orang-meninggal/">
    <meta property="og:title" content="Kalkulator Menghitung Selamatan Orang Meninggal: Cara Praktis">
    <meta property="og:description" content="Hitung otomatis tanggal selamatan 3, 7, 40, 100, hingga 1000 hari. Akurat sesuai tradisi Jawa & Hijriah.">
    <meta property="og:image" content="https://jenishpatel14.github.io/kalkulator-menghitung-selamatan-orang-meninggal/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Kalkulator Selamatan Orang Meninggal">
    <meta name="twitter:description" content="Cara praktis menentukan hari selamatan 3, 7, 40, 100, hingga 1000 hari (Nyewu).">
    <meta name="twitter:image" content="https://jenishpatel14.github.io/kalkulator-menghitung-selamatan-orang-meninggal/og-image.jpg">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <style>
        /* Modern CSS Variables */
        :root {
            --primary: #0f766e; /* Teal: Warna religius & menenangkan */
            --primary-dark: #0d5f57;
            --primary-light: #f0fdfa;
            --accent: #d97706; /* Emas: Simbol tradisi */
            --text-main: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --bg-body: #f8fafc;
            --radius: 12px;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
        }

        /* Reset & Base */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg-body); color: var(--text-main); line-height: 1.6; }
        
        /* Typography */
        h1, h2, h3, h4 { font-family: 'Playfair Display', serif; color: var(--text-main); line-height: 1.3; }
        h1 { font-size: 2.25rem; color: var(--primary-dark); margin-bottom: 1rem; }
        h2 { font-size: 1.75rem; margin: 2.5rem 0 1rem; position: relative; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary-light); }
        h2::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 80px; height: 2px; background: var(--accent); }
        h3 { font-size: 1.35rem; margin: 1.5rem 0 0.75rem; color: var(--primary); }
        p { margin-bottom: 1rem; text-align: justify; }
        ul, ol { margin-bottom: 1rem; padding-left: 1.5rem; }
        li { margin-bottom: 0.5rem; color: var(--text-muted); }

        /* Layout */
        .container { max-width: 900px; margin: 0 auto; padding: 0 1.25rem; }
        
        /* Header */
        header { background: white; border-bottom: 1px solid var(--border); padding: 1rem 0; position: sticky; top: 0; z-index: 50; }
        .nav-inner { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-weight: 800; color: var(--primary); text-decoration: none; font-size: 1.25rem; display: flex; align-items: center; gap: 0.5rem; }
        
        /* Hero */
        .hero { text-align: center; padding: 3rem 0; background: linear-gradient(to bottom, #ccfbf1, #f8fafc); border-bottom: 1px solid var(--border); }
        .hero-subtitle { font-size: 1.1rem; color: var(--text-muted); max-width: 600px; margin: 0 auto; }

        /* Calculator Tool (Sticky on Desktop) */
        .tool-wrapper { background: white; border-radius: var(--radius); box-shadow: var(--shadow); padding: 2rem; margin-top: -2rem; border: 1px solid var(--border); position: relative; z-index: 10; }
        
        .form-grid { display: grid; gap: 1rem; }
        .input-group label { display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--text-main); }
        .input-group input { width: 100%; padding: 0.875rem; border: 2px solid var(--border); border-radius: 8px; font-size: 1rem; transition: 0.2s; }
        .input-group input:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 0 3px var(--primary-light); }
        
        .btn-calc { background: var(--primary); color: white; border: none; padding: 1rem; width: 100%; border-radius: 8px; font-weight: 700; font-size: 1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem; transition: 0.2s; }
        .btn-calc:hover { background: var(--primary-dark); transform: translateY(-2px); }

        /* Results Area */
        #resultsSection { display: none; margin-top: 2rem; animation: fadeIn 0.5s ease; }
        .result-card { background: var(--primary-light); border-left: 4px solid var(--primary); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; }
        
        .table-responsive { overflow-x: auto; border: 1px solid var(--border); border-radius: 8px; }
        table { width: 100%; border-collapse: collapse; min-width: 650px; /* Increased min-width for Hijriah */ background: white; }
        th { background: #f1f5f9; padding: 1rem; text-align: left; font-size: 0.85rem; text-transform: uppercase; color: var(--text-muted); letter-spacing: 0.5px; }
        td { padding: 1rem; border-top: 1px solid var(--border); }
        tr:nth-child(even) { background: #f8fafc; }
        .badge-pasaran { background: #ffedd5; color: #9a3412; padding: 0.25rem 0.75rem; border-radius: 50px; font-size: 0.85rem; font-weight: 600; display: inline-block; }
        .badge-hijriah { background: #e0f2fe; color: #075985; padding: 0.25rem 0.75rem; border-radius: 50px; font-size: 0.85rem; font-weight: 600; display: inline-block; }

        /* Actions */
        .action-btns { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 0.75rem; margin-top: 1rem; }
        .btn-act { padding: 0.75rem; border: 1px solid var(--border); background: white; border-radius: 6px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem; font-size: 0.9rem; transition: 0.2s; }
        .btn-act:hover { background: #f1f5f9; }
        .btn-wa { background: #25D366; color: white; border: none; }
        .btn-wa:hover { background: #128C7E; }

        /* Article Content */
        .content-body { margin-top: 4rem; background: white; padding: 2.5rem; border-radius: var(--radius); box-shadow: var(--shadow); }
        .highlight-box { background: #fff7ed; border: 1px solid #ffedd5; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0; }
        
        /* Glossary List */
        dl.glossary { display: grid; gap: 1rem; }
        dl.glossary div { background: #f8fafc; padding: 1rem; border-radius: 8px; border: 1px solid var(--border); }
        dt { font-weight: 700; color: var(--primary); margin-bottom: 0.25rem; }
        dd { margin: 0; color: var(--text-muted); }

        /* Feature Grid */
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin: 2rem 0; }
        .feature-card { padding: 1.5rem; border: 1px solid var(--border); border-radius: 8px; text-align: center; transition: 0.2s; }
        .feature-card:hover { border-color: var(--primary); transform: translateY(-3px); }
        .feature-icon { font-size: 2rem; margin-bottom: 1rem; display: block; }

        /* FAQ Styling */
        .faq-item { border: 1px solid var(--border); border-radius: 8px; margin-bottom: 0.75rem; overflow: hidden; }
        .faq-question { padding: 1rem 1.5rem; background: #f1f5f9; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: 600; color: var(--text-main); }
        .faq-answer { padding: 0 1.5rem; background: white; max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out, padding 0.3s ease-out; color: var(--text-muted); }
        .faq-answer p { margin-top: 0; padding-bottom: 1rem; }
        .faq-item.active .faq-answer { max-height: 500px; /* Sufficiently large */ padding-top: 1rem; }
        .arrow { transition: transform 0.3s ease; }
        .faq-item.active .arrow { transform: rotate(180deg); }


        /* Footer */
        footer { margin-top: 3rem; background: var(--text-main); color: white; padding: 3rem 0; text-align: center; /* ALIGNMENT FIXED HERE */ }
        .footer-links a { color: #cbd5e1; text-decoration: none; margin: 0 0.5rem; font-size: 0.9rem; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 640px) {
            h1 { font-size: 1.75rem; }
            .content-body { padding: 1.5rem; }
            .btn-act { width: 100%; }
            table { min-width: 550px; /* Reduced min-width slightly for mobile */ }
        }
    </style>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Kalkulator Selamatan Orang Meninggal",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web",
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "IDR" },
        "description": "Aplikasi hitung selamatan orang meninggal online (3, 7, 40, 100, 1000 hari) lengkap dengan pasaran Jawa dan tanggal Hijriah."
    }
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R51464300B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-R51464300B');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1986887645606657"
     crossorigin="anonymous"></script>
    
</head>
<body>

<header>
    <div class="container nav-inner">
        <a href="https://jenishpatel14.github.io/kalkulator-menghitung-selamatan-orang-meninggal/" class="logo">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            Kalkulator Selamatan
        </a>
    </div>
</header>

<section class="hero">
    <div class="container">
        <h1>Kalkulator Menghitung Selamatan<br>Orang Meninggal</h1>
        <p class="hero-subtitle">Cara praktis menentukan hari selamatan 3, 7, 40, 100, hingga 1000 hari (Nyewu) dengan akurat secara online.</p>
    </div>
</section>

<div class="container">
    <div class="tool-wrapper">
        <form id="selamatanForm">
            <div class="form-grid">
                <div class="input-group">
                    <label for="deceasedName">Nama Almarhum/Almarhumah</label>
                    <input type="text" id="deceasedName" placeholder="Contoh: Bpk. Fulan" required>
                </div>
                <div class="input-group">
                    <label for="deathDate">Tanggal Wafat (Masehi)</label>
                    <input type="date" id="deathDate" required>
                </div>
            </div>
            <br>
            <button type="submit" class="btn-calc">
                Hitung Jadwal Selamatan
            </button>
        </form>

        <div id="resultsSection">
            <div class="result-card">
                <h3 style="margin-top:0; font-size:1.1rem;">Hasil Perhitungan</h3>
                <p style="margin:0; font-size:0.95rem;">Untuk Almarhum: <strong id="resName"></strong></p>
                <p style="margin:0; font-size:0.95rem;">Wafat: <strong id="resDate"></strong> (<span id="resPasaran" style="color:var(--accent); font-weight:bold;"></span>)</p>
            </div>

            <div class="table-responsive">
                <table id="resultTable">
                    <thead>
                        <tr>
                            <th>Acara</th>
                            <th>Tanggal Masehi</th>
                            <th>Tanggal Hijriah</th>
                            <th>Pasaran Jawa</th>
                        </tr>
                    </thead>
                    <tbody id="resultBody"></tbody>
                </table>
            </div>

            <div class="action-btns">
                <button class="btn-act btn-wa" id="shareWaBtn">
                    <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.463 1.065 2.876 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                    Share WhatsApp
                </button>
                <button class="btn-act" id="downloadImgBtn">
                    <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                    Download JPG
                </button>
            </div>
        </div>
    </div>

    <article class="content-body">
        <h2>Cara Praktis Menentukan Hari Selamatan</h2>
        <p>Hari selamatan orang meninggal adalah tradisi sakral yang sudah dilakukan di banyak daerah terutama di pulau Jawa. Kegiatan ini adalah bentuk doa dan penghormatan kepada arwah saudara yang sudah lebih dahulu tiada.</p>
        <p>Untuk menentukan hitungan orang meninggal, yang umum dilakukan warga adalah dengan menggunakan cara manual yakni melihat kalender Jawa. Namun, kini ada cara yang lebih mudah dan praktis yaitu dengan memanfaatkan <strong>kalkulator menghitung selamatan orang meninggal</strong>.</p>
        <p>Dengan menggunakan kalkulator ini, keluarga yang akan melaksanakan selamatan bisa menentukan tanggal selamatan 3 hari, 7 hari, 40 hari, 100 hari, hingga 1000 hari dengan lebih cepat. Tanggal selamatan bisa ditentukan otomatis dengan cukup memasukkan tanggal wafat seseorang. Dengan cara ini, tradisi bisa terus terjaga dengan proses yang lebih efisien.</p>

        <h3>Apa Itu Kalkulator Menghitung Selamatan Orang Meninggal?</h3>
        <p>Kalkulator selamatan adalah alat digital yang berfungsi menentukan tanggal upacara selamatan berdasarkan tanggal wafat seseorang. Alat ini bekerja otomatis dengan menghitung jumlah hari sesuai tradisi, seperti 3, 7, 40, 100, dan 1000 hari setelah kematian.</p>
        <p>Pengguna hanya perlu memasukkan tanggal meninggal, lalu sistem akan membuat kalkulasi dalam waktu singkat sehingga hasil bisa didapat dalam hitungan detik. Kalkulator ini biasa digunakan oleh keluarga yang ingin memastikan jadwal doa tanpa ribet menggunakan kalender manual. Keunggulannya adalah kecepatan, akurasi, serta kemudahan akses, baik melalui ponsel maupun komputer.</p>

        <h3>Makna dan Tujuan Selamatan Orang Meninggal</h3>
        <p>Selamatan merupakan wujud penghormatan dan doa agar arwah yang sudah meninggal mendapatkan ampunan dan tempat terbaik di alam barzah. Selain itu, selamatan juga berfungsi sebagai sarana menjaga kebersamaan keluarga dan masyarakat dalam menghadapi kehilangan. Dalam tradisi Jawa, tahapan waktu selamatan meliputi 3 hari, 7 hari, 40 hari, 100 hari, dan 1000 hari setelah kematian.</p>
        <p>Setiap tahapan ada maknanya sendiri-sendiri. Misalnya, selamatan 3 hari bertujuan untuk mengantar arwah melewati masa transisi, sedangkan 1000 hari menjadi simbol penyempurnaan perjalanan roh. Semua hitungan tersebut biasanya ditentukan melalui kombinasi kalender Masehi dan Jawa.</p>

        <div class="highlight-box">
            <h4 style="margin-top:0;">Fitur Unggulan Aplikasi Ini</h4>
            <div class="features-grid" style="margin:1rem 0 0;">
                <div class="features-grid" style="margin:1rem 0 0;">
                <div class="feature-card">
                    <span class="feature-icon">ðŸ“…</span>
                    <strong>Kalender Jawa & Pasaran</strong>
                    <p style="font-size:0.9rem; margin:0.5rem 0 0;">Cek hari pasaran Jawa (Legi, Pahing, dll) dengan akurat.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">âš¡</span>
                    <strong>Perhitungan Otomatis</strong>
                    <p style="font-size:0.9rem; margin:0.5rem 0 0;">Dapatkan tanggal selamatan secara instan tanpa rumus manual.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ðŸŒ™</span>
                    <strong>Tanggal Hijriah</strong>
                    <p style="font-size:0.9rem; margin:0.5rem 0 0;">Menampilkan tanggal dalam penanggalan Islam/Hijriah.</p>
                </div>
            </div>
        </div>

        <h3>Istilah Hari Selametan dalam Budaya Jawa</h3>
        <p>Agar tidak bingung dalam menentukan acara, berikut adalah glosarium istilah yang sering digunakan dalam perhitungan selamatan:</p>
        
        <dl class="glossary">
            <div>
                <dt>Geblag</dt>
                <dd>Selamatan pasca penguburan, dilaksanakan pada hari pertama saat meninggal.</dd>
            </div>
            <div>
                <dt>Nelung Dina</dt>
                <dd>Tiga hari kematian, dilaksanakan pada hari dan pasaran ketiga (H+2 secara matematis).</dd>
            </div>
            <div>
                <dt>Mitung Dina</dt>
                <dd>Tujuh hari kematian, dilaksanakan tujuh hari setelah kematian.</dd>
            </div>
            <div>
                <dt>Matangpuluh Dina</dt>
                <dd>40 harian, dilaksanakan pada hari ke-40. Momen ini sering dianggap saat jasad mulai terurai.</dd>
            </div>
            <div>
                <dt>Nyatus Dina</dt>
                <dd>Seratus harian, dilaksanakan pada hari ke-100 setelah kematian.</dd>
            </div>
            <div>
                <dt>Pendhak Pisan</dt>
                <dd>Selamatan 1 tahun setelah kematian. Dihitung berdasarkan kalender Jawa (354 hari), biasanya jatuh pada hari pasaran yang sama.</dd>
            </div>
            <div>
                <dt>Nyewu (1000 Hari)</dt>
                <dd>Puncak selamatan hari ke-1000. Menandakan arwah telah "Ngesiwah" atau menyatu dengan tanah.</dd>
            </div>
        </dl>

        <h3>Tanya Jawab (FAQ) Mengenai Selamatan</h3>
        <div id="faqContainer">
            <div class="faq-item">
                <div class="faq-question">
                    <span>Apakah kalkulator ini sudah akurat dan sesuai tradisi Jawa?</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="faq-answer">
                    <p>Ya, kalkulator ini menggunakan perhitungan hari Masehi yang akurat dan dikombinasikan dengan metode penanggalan Pasaran Jawa (Panca Wara) untuk menentukan hari-hari penting seperti Nelung Dina, Mitung Dina, Matangpuluh, hingga Nyewu. Hasil ini adalah patokan yang umum digunakan di banyak daerah di Jawa.</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>Mengapa ada Pendhak Pisan dan Pendhak Pindho?</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="faq-answer">
                    <p>Pendhak Pisan adalah selamatan yang dilaksanakan satu tahun setelah kematian, dihitung berdasarkan tahun Jawa (sekitar 354 hari). Pendhak Pindho adalah selamatan kedua (dua tahun setelah wafat). Kedua momen ini penting sebagai tahapan menuju Nyewu (1000 hari) yang merupakan penutup rangkaian selamatan.</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>Apakah saya perlu menggunakan rumus hitungan selamatan secara manual lagi?</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="faq-answer">
                    <p>Tidak perlu. Fungsi utama kalkulator ini adalah menghilangkan kebutuhan untuk menghitung rumus-rumus manual yang kompleks dan rentan salah. Cukup masukkan tanggal wafat, dan semua jadwal selamatan akan terhitung otomatis, termasuk konversi hari Masehi, Pasaran Jawa, dan tanggal Hijriah.</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>Seberapa akurat konversi tanggal Hijriah di kalkulator ini?</span>
                    <span class="arrow">&#9660;</span>
                </div>
                <div class="faq-answer">
                    <p>Konversi Hijriah didasarkan pada perhitungan matematis dengan tanggal referensi (1 Agustus 2024 = 26 Muharram 1446 H). Namun, karena penentuan awal bulan Hijriah di Indonesia seringkali didasarkan pada rukyatul hilal (pengamatan bulan), mungkin terdapat perbedaan satu atau dua hari dengan kalender resmi. Untuk acara selamatan, fokus utama biasanya tetap pada tanggal Masehi dan Pasaran Jawa.</p>
                </div>
            </div>
        </div>

        <h3>Tips Menyusun Acara Selamatan</h3>
        <p>Setelah mengetahui tanggal selamatan, langkah selanjutnya adalah menyiapkan acara. Mulailah dengan merencanakan logistik dan undangan sesuai tanggal yang sudah ditentukan. Siapkan makanan khas seperti tumpeng, takir, dan kue tradisional yang digunakan dalam doa bersama. Jika acara digelar sederhana, pastikan tetap khidmat dan berisi doa tulus untuk almarhum atau almarhumah.</p>
        
        <div style="margin-top:2rem; padding-top:1rem; border-top:1px solid #eee; font-size:0.9rem; color:#666;">
            <strong>Catatan Penting:</strong> Aplikasi ini dirancang dengan ketelitian tinggi, namun seperti pepatah "Tak ada gading yang tak retak", mungkin masih ada kekurangan. Kami sangat percaya diri dengan akurasi penanggalan pasaran Jawa. Ingatlah, perbedaan satu atau dua hari bukanlah masalah besar. Yang terpenting adalah niat dan semangat kita dalam menjalankan ibadah.
        </div>
    </article>
</div>

<footer>
    <div class="container">
        <div class="footer-links">
            <a href="https://jenishpatel14.github.io/about-us/">Tentang Kami</a>
            <a href="https://jenishpatel14.github.io/privacy-policy/">Privasi</a>
            <a href="https://jenishpatel14.github.io/contact/">Kontak</a>
        </div>
        <p style="margin-top:1rem;">&copy; 2025 Kalkulator Selamatan Online. <br>Melestarikan Budaya, Memudahkan Doa.</p>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // 1. Set Date to Today Automatically
        const dateInput = document.getElementById('deathDate');
        const today = new Date();
        const yyyy = today.getFullYear();
        const mm = String(today.getMonth() + 1).padStart(2, '0');
        const dd = String(today.getDate()).padStart(2, '0');
        dateInput.value = `${yyyy}-${mm}-${dd}`;

        // Global variable for sharing
        window.shareData = { text: '' };

        // 2. Calculation Logic
        document.getElementById('selamatanForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('deceasedName').value;
            const dateVal = document.getElementById('deathDate').value;
            
            if(!dateVal) return;

            const deathDate = new Date(dateVal + 'T00:00:00'); // Ensure T00:00:00 to prevent timezone issues
            
            // Events Definition
            const events = [
                { name: 'Geblag (Wafat)', add: 0 },
                { name: 'Nelung Dina (3 Hari)', add: 2 },
                { name: 'Mitung Dina (7 Hari)', add: 6 },
                { name: 'Matangpuluh (40 Hari)', add: 39 },
                { name: 'Nyatus (100 Hari)', add: 99 },
                { name: 'Pendhak Pisan (1 Th)', add: 353 },
                { name: 'Pendhak Pindho (2 Th)', add: 707 },
                { name: 'Nyewu (1000 Hari)', add: 999 }
            ];

            const tbody = document.getElementById('resultBody');
            tbody.innerHTML = '';
            
            // Update Summary Header
            const deathJawa = getJavaneseData(deathDate);
            document.getElementById('resName').innerText = name;
            document.getElementById('resDate').innerText = formatDateIndo(deathDate);
            document.getElementById('resPasaran').innerText = `${deathJawa.day} ${deathJawa.pasaran}`;

            // Build Share Text
            window.shareData.text = `Jadwal Selamatan ${name}\nWafat: ${formatDateIndo(deathDate)} (${deathJawa.day} ${deathJawa.pasaran})\n\n`;

            // Calculate Rows
            events.forEach(ev => {
                const targetDate = addDays(deathDate, ev.add);
                const jawa = getJavaneseData(targetDate);
                // *** HIJRIAH FUNCTION IS NOW UPDATED ***
                const hijriah = convertGregorianToHijri(targetDate); 
                // **************************************
                const dateStr = formatDateIndo(targetDate);
                
                const tr = `
                    <tr>
                        <td><strong>${ev.name}</strong></td>
                        <td>${dateStr}</td>
                        <td><span class="badge-hijriah">${hijriah}</span></td>
                        <td><span class="badge-pasaran">${jawa.day} ${jawa.pasaran}</span></td>
                    </tr>
                `;
                tbody.innerHTML += tr;
                
                window.shareData.text += `${ev.name}: ${dateStr} (${hijriah}) (${jawa.day} ${jawa.pasaran})\n`;
            });
            
            window.shareData.text += `\nHitung selengkapnya: https://jenishpatel14.github.io/kalkulator-menghitung-selamatan-orang-meninggal/`;

            // Show Results
            const resSec = document.getElementById('resultsSection');
            resSec.style.display = 'block';
            resSec.scrollIntoView({behavior: 'smooth'});
        });

        // 3. Button Listeners
        document.getElementById('shareWaBtn').addEventListener('click', () => {
            if(!window.shareData.text) return;
            window.open(`https://wa.me/?text=${encodeURIComponent(window.shareData.text)}`, '_blank');
        });

        document.getElementById('downloadImgBtn').addEventListener('click', generateImage);

        // 4. FAQ Accordion Logic
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            item.querySelector('.faq-question').addEventListener('click', () => {
                const wasActive = item.classList.contains('active');
                
                // Close all others
                faqItems.forEach(i => i.classList.remove('active'));
                
                // Toggle clicked item
                if (!wasActive) {
                    item.classList.add('active');
                }
            });
        });

        // 5. Generate FAQ Schema Markup
        generateFaqSchema();
    });

    // --- HELPER FUNCTIONS ---

    function addDays(date, days) {
        const result = new Date(date);
        result.setDate(result.getDate() + days);
        return result;
    }

    function formatDateIndo(date) {
        const days = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
        const months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
        return `${days[date.getDay()]}, ${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;
    }

    // Reference Date: 1 Jan 2024 was Monday Pahing
    function getJavaneseData(date) {
        const refDate = new Date('2024-01-01T00:00:00'); 
        const refPasaran = 1; // Pahing index (Legi=0, Pahing=1, Pon=2, Wage=3, Kliwon=4)
        const days = ['Minggu','Senin','Selasa','Rabu','Kamis','Jumat','Sabtu'];
        const pasarans = ['Legi','Pahing','Pon','Wage','Kliwon'];
        
        const timeDiff = date.getTime() - refDate.getTime();
        const dayDiff = Math.floor(timeDiff / (1000 * 3600 * 24));
        
        let pasaranIdx = (refPasaran + dayDiff) % 5;
        if(pasaranIdx < 0) pasaranIdx += 5;
        
        return {
            day: days[date.getDay()],
            pasaran: pasarans[pasaranIdx]
        };
    }

    // *** NEW HIJRIAH CONVERSION LOGIC (adapted from user request) ***
    function convertGregorianToHijri(date) {
        const hijriMonths = [
            'Muharram', 'Safar', 'Rabi\'ul Awwal', 'Rabi\'ul Akhir', 
            'Jumadil Awwal', 'Jumadil Akhir', 'Rajab', 'Sha\'ban', 
            'Ramadan', 'Syawwal', 'Dzulqa\'dah', 'Dzulhijjah'
        ];

        // Reference: 1 Agustus 2024 (Thursday) = 26 Muharram 1446 H
        const refGregorianDate = new Date('2024-08-01T00:00:00'); 
        const refHijriDate = { year: 1446, month: 0, day: 26 }; // month 0 is Muharram

        // Calculate days difference
        const timeDiff = date.getTime() - refGregorianDate.getTime();
        let daysDiff = Math.floor(timeDiff / (1000 * 3600 * 24));

        let hijriYear = refHijriDate.year;
        let hijriMonth = refHijriDate.month;
        let hijriDay = refHijriDate.day + daysDiff;

        // Approximate days in Hijri months (alternating 30/29) - This is a simple approximation
        const daysInMonth = [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29];

        // Adjust for differences (forward and backward)
        if (daysDiff >= 0) {
            // Forward calculation
            while (hijriDay > daysInMonth[hijriMonth]) {
                hijriDay -= daysInMonth[hijriMonth];
                hijriMonth++;
                if (hijriMonth >= 12) {
                    hijriMonth = 0;
                    hijriYear++;
                    // Note: This simple model doesn't account for complex leap year rules (29/30 day cycle).
                    // In a real implementation, a more accurate lookup table or algorithm would be needed.
                }
            }
        } else {
            // Backward calculation (for dates before the reference)
            while (hijriDay <= 0) {
                hijriMonth--;
                if (hijriMonth < 0) {
                    hijriMonth = 11;
                    hijriYear--;
                }
                hijriDay += daysInMonth[hijriMonth];
            }
        }
        
        return `${hijriDay} ${hijriMonths[hijriMonth]} ${hijriYear} H`;
    }
    // ***************************************************************

    // Image Generator function (kept the same, but now includes Hijriah in text)
    function generateImage() {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        const width = 850; // Increased width slightly
        const name = document.getElementById('resName').innerText;
        const rows = document.querySelectorAll('#resultTable tbody tr');
        
        canvas.width = width;
        canvas.height = 150 + (rows.length * 50) + 50;
        
        // Bg
        ctx.fillStyle = 'white';
        ctx.fillRect(0,0,width,canvas.height);
        
        // Header
        ctx.fillStyle = '#0f766e';
        ctx.fillRect(0,0,width,100);
        ctx.fillStyle = 'white';
        ctx.font = 'bold 30px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('JADWAL SELAMATAN ALMARHUM', width/2, 50);
        ctx.font = 'bold 20px Arial';
        ctx.fillText(name, width/2, 80);
        
        // Table Header Line
        ctx.fillStyle = '#f1f5f9';
        ctx.fillRect(40, 115, width - 80, 40);
        ctx.fillStyle = '#64748b';
        ctx.font = 'bold 14px Arial';
        ctx.textAlign = 'left';
        ctx.fillText('Acara', 60, 140);
        ctx.fillText('Masehi', 250, 140);
        ctx.fillText('Hijriah', 450, 140);
        ctx.fillText('Pasaran Jawa', 650, 140);

        // Table Rows
        let y = 180;
        ctx.font = '14px Arial';
        
        rows.forEach((row, i) => {
            const cols = row.querySelectorAll('td');
            if(i%2===0) { ctx.fillStyle='#f0fdfa'; ctx.fillRect(40,y-30,width-80,40); }
            
            ctx.fillStyle = '#1e293b';
            ctx.fillText(cols[0].innerText, 60, y); // Event
            ctx.fillText(cols[1].innerText, 250, y); // Masehi
            ctx.fillText(cols[2].innerText, 450, y); // Hijriah
            ctx.fillText(cols[3].innerText, 650, y); // Pasaran
            y += 50;
        });
        
        // Footer
        ctx.fillStyle = '#94a3b8';
        ctx.font = 'italic 12px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('Dihasilkan oleh Kalkulator Selamatan Online', width/2, canvas.height-20);
        
        // DL
        canvas.toBlob(blob => {
            const a = document.createElement('a');
            a.download = `Jadwal-${name.replace(/\s/g, '-')}.jpg`;
            a.href = URL.createObjectURL(blob);
            a.click();
        }, 'image/jpeg');
    }

    function generateFaqSchema() {
        const faqs = [
            {
                question: "Apakah kalkulator ini sudah akurat dan sesuai tradisi Jawa?",
                answer: "Ya, kalkulator ini menggunakan perhitungan hari Masehi yang akurat dan dikombinasikan dengan metode penanggalan Pasaran Jawa (Panca Wara) untuk menentukan hari-hari penting seperti Nelung Dina, Mitung Dina, Matangpuluh, hingga Nyewu. Hasil ini adalah patokan yang umum digunakan di banyak daerah di Jawa."
            },
            {
                question: "Mengapa ada Pendhak Pisan dan Pendhak Pindho?",
                answer: "Pendhak Pisan adalah selamatan yang dilaksanakan satu tahun setelah kematian, dihitung berdasarkan tahun Jawa (sekitar 354 hari). Pendhak Pindho adalah selamatan kedua (dua tahun setelah wafat). Kedua momen ini penting sebagai tahapan menuju Nyewu (1000 hari) yang merupakan penutup rangkaian selamatan."
            },
            {
                question: "Apakah saya perlu menggunakan rumus hitungan selamatan secara manual lagi?",
                answer: "Tidak perlu. Fungsi utama kalkulator ini adalah menghilangkan kebutuhan untuk menghitung rumus-rumus manual yang kompleks dan rentan salah. Cukup masukkan tanggal wafat, dan semua jadwal selamatan akan terhitung otomatis, termasuk konversi hari Masehi, Pasaran Jawa, dan tanggal Hijriah."
            },
            {
                question: "Seberapa akurat konversi tanggal Hijriah di kalkulator ini?",
                answer: "Konversi Hijriah didasarkan pada perhitungan matematis dengan tanggal referensi (1 Agustus 2024 = 26 Muharram 1446 H). Namun, karena penentuan awal bulan Hijriah di Indonesia seringkali didasarkan pada rukyatul hilal (pengamatan bulan), mungkin terdapat perbedaan satu atau dua hari dengan kalender resmi. Untuk acara selamatan, fokus utama biasanya tetap pada tanggal Masehi dan Pasaran Jawa."
            }
        ];

        const schema = {
            "@context": "https://schema.org",
            "@type": "FAQPage",
            "mainEntity": faqs.map(item => ({
                "@type": "Question",
                "name": item.question,
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": item.answer
                }
            }))
        };

        document.getElementById('faqSchema').textContent = JSON.stringify(schema, null, 2);
    }
</script>
</body>
</html>
